<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kasımpatı Buketi</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: #04282a; /* petrol siyahı */
    overflow: hidden;
  }
  canvas {
    display: block;
    margin: auto;
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
  }
</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
<script>
let flowers = [];

function setup() {
  createCanvas(windowWidth, windowHeight);
  noStroke();
  angleMode(DEGREES);

  // buket merkezi
  let centerX = width / 2;
  let centerY = height / 1.7;

  // 25 kadar kasımpatı oluştur
  for (let i = 0; i < 25; i++) {
    let offsetX = random(-150, 150);
    let offsetY = random(-80, 80);
    let col = random(["#f8cad9", "#ffffff", "#ffe45c", "#ff4d4d"]);
    flowers.push(new Flower(centerX + offsetX, centerY + offsetY, col));
  }
}

function draw() {
  background(4, 40, 42, 60);
  translate(0, 20);

  // gövde
  push();
  stroke(44, 110, 70);
  strokeWeight(6);
  noFill();
  for (let f of flowers) {
    bezier(f.x, f.y + 20, f.x, f.y + 80, width/2, height-150, width/2, height);
  }
  pop();

  // çiçekleri çiz
  for (let f of flowers) {
    f.update();
    f.display();
  }

  // hafif parıltı efekti
  fill(255, 255, 255, 8);
  ellipse(width/2, height/2, 500, 240);
}

class Flower {
  constructor(x, y, col) {
    this.x = x;
    this.y = y;
    this.col = col;
    this.petals = floor(random(14, 20));
    this.size = random(20, 35);
    this.rotation = random(360);
    this.wave = random(1000);
  }

  update() {
    this.rotation += sin(frameCount * 0.5 + this.wave) * 0.05;
  }

  display() {
    push();
    translate(this.x, this.y);
    rotate(this.rotation);
    for (let i = 0; i < this.petals; i++) {
      let angle = (360 / this.petals) * i;
      let r = this.size + sin(frameCount * 2 + i * 20) * 1.5;
      let x = cos(angle) * r;
      let y = sin(angle) * r;
      fill(this.col);
      ellipse(x, y, 14, 26);
    }
    fill(255, 220, 80);
    ellipse(0, 0, this.size * 0.8);
    pop();
  }
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}
</script>
</body>
</html>
